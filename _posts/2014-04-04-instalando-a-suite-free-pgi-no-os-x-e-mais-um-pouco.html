---
layout: post
title: Instalando a suite Free PGI no OS X (e mais um pouco)
date: 2014-04-04 22:38:32.000000000 -03:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- Ciência
- Internet
- Tutoriais
tags:
- C
- fortran
- GCC
- iTerm2.app
- OS X
- PGI
- Portland Group
- Terminal.app
meta:
  _edit_last: '13386696'
  geo_public: '0'
  _publicize_job_id: '16396729933'
  _thumbnail_id: '2394'
author:
  login: craftmind
  email: cfbastarz@gmail.com
  display_name: cfbastarz
  first_name: ''
  last_name: ''
permalink: "/2014/04/04/instalando-a-suite-free-pgi-no-os-x-e-mais-um-pouco/"
---
<p>Esta semana a <a href="http://www.pgroup.com/index.htm" target="_blank">Portland Group</a> - empresa desenvolvera de compiladores fortran e C (e outros produtos), lançou uma versão gratuita de seus compiladores para o OS X (exceto o compilador C++). Infelizmente, uma versão gratuita ainda não parece estar disponível para o Linux ou Windows. A instalação é bastante simples e direta: basta abrir uma imagem DMG e arrastar o aplicativo para a pasta Applications do OS X. Mas acontece que a utilização dos compiladores fica restrita apenas ao <a href="http://en.wikipedia.org/wiki/Terminal_(OS_X)" target="_blank">Terminal.app</a>! Isto significa dizer que, caso você utilize outro emulador de terminal, como o <a href="http://www.iterm2.com" target="_blank">iTerm2.app</a>, você simplesmente não consegue invocar os compiladores! Isto acontece porque para utilizar os compiladores, você não deve abrir o Terminal.app, mas você precisa clicar no ícone do programa instalado (Free PGI.app) e aí sim ele abre um terminal e então os compiladores podem ser utilizados. Mas que bobagem...</p>
<p><!--more--></p>
<p>Então, dando uma olhada na forma como o Free PGI.app funciona, percebi que ele executa um script que exporta as variáveis de ambiente antes de abrir o Terminal.app. Por isto que não adianta apenas abrir o terminal e sair usando. O problema é que este script é apenas um executável e este não pode ser devidamente lido (como texto). Mas eis que quando o Terminal.app é carregado, algumas variáveis de ambiente são exportadas e estas podem ser colocadas no seu .profile (ou .bashrc) e assim, você pode utilizar os compiladores PGI sem a necessidade de abrir o programa Free PGI.app e além disso, pode também utilizar o emulador de terminal que quiser!</p>
<p>[caption id="attachment_2321" align="aligncenter" width="640"]<a href="https://craftmind.files.wordpress.com/2014/04/screen-shot-2014-04-04-at-8-55-43-pm.png"><img class="size-full wp-image-2321" src="{{ site.baseurl }}/assets/screen-shot-2014-04-04-at-8-55-43-pm.png" alt="PGI lança versão gratuíta dos seus compiladores para o OS X." width="640" height="256" /></a> PGI lança versão gratuíta dos seus compiladores para o OS X.[/caption]</p>
<p>Abaixo, mostro como baixar e instalar os compiladores e configurar o sistema para que seja possível utilizar os compiladores em qualquer emulador de terminal.</p>
<p><strong>1) Baixando o arquivo de instalação</strong></p>
<p>Para baixar o arquivo de instalação, é necessário ter uma conta de acesso no site da Portland Group. Depois, basta acessar o endereço <a href="http://www.pgroup.com/freepgi">Free PGI</a> e clicar em "Register Now To Download". Na próxima página, basta clicar em "I Agree" ao final da página e na página seguinte (já com sua conta criada e ativada), faça login. Siga as instruções e obtenha o arquivo de instalação.</p>
<p><a href="https://craftmind.files.wordpress.com/2014/04/screen-shot-2014-04-04-at-9-01-17-pm.png"><img class="aligncenter size-full wp-image-2322" src="{{ site.baseurl }}/assets/screen-shot-2014-04-04-at-9-01-17-pm.png" alt="Obtendo o arquivo de instalação do Free PGI" width="640" height="548" /></a></p>
<p><strong>2) Instalando</strong></p>
<p>Abra o arquivo de instalação e arraste o ícone "Free PGI" para a pasta Applications do OS X. Em seguida, clique no ícone do programa Free PGI a partir da pasta Applications. Fazendo isto, uma janela do Terminal.app irá se abrir e então a configuração estará completa.</p>
<p>[caption id="attachment_2323" align="aligncenter" width="112"]<a href="https://craftmind.files.wordpress.com/2014/04/screen-shot-2014-04-04-at-9-06-35-pm.png"><img class="size-full wp-image-2323" src="{{ site.baseurl }}/assets/screen-shot-2014-04-04-at-9-06-35-pm.png" alt="Arquivo de instalação." width="112" height="124" /></a> Imagem DMG do arquivo de instalação.[/caption]</p>
<p>[caption id="attachment_2324" align="aligncenter" width="599"]<a href="https://craftmind.files.wordpress.com/2014/04/screen-shot-2014-04-04-at-9-07-08-pm.png"><img class="size-full wp-image-2324" src="{{ site.baseurl }}/assets/screen-shot-2014-04-04-at-9-07-08-pm.png" alt="Instalando o Free PGI" width="599" height="466" /></a> Instalando o Free PGI[/caption]</p>
<p>Basicamente, a instalação pára por aí. Não é necessário inserir um serial ou ativar utilizando uma licença flex, tal como era feito com as versões triais dos compiladores.</p>
<p>Para utilizar os compiladores, como dito anteriormente, basta abrir o programa "Free PGI" e então uma janela do Terminal.app irá se abrir com as configurações de ambiente ajustadas.</p>
<p>[caption id="attachment_2325" align="aligncenter" width="640"]<a href="https://craftmind.files.wordpress.com/2014/04/screen-shot-2014-04-04-at-9-31-54-pm.png"><img class="size-full wp-image-2325" src="{{ site.baseurl }}/assets/screen-shot-2014-04-04-at-9-31-54-pm.png" alt="Testando a instalação do Free PGI - instalação padrão no Terminal.app" width="640" height="354" /></a> Testando a instalação do Free PGI - instalação padrão no Terminal.app[/caption]</p>
<p><strong>3) Indo um pouco mais além</strong></p>
<p>A forma como a Portland Group idealizou a distribuição do programa, deixa bastante claro que você não tem muitas possibilidades de alterar a forma como o programa se comporta. Então, se você trabalha com muitos terminais, gosta de dividir a janela do terminal em várias partes etc, então você sabe que o Terminal.app é limitado nestes termos. Além disso, ter que abrir um programa para somente depois ter acesso aos compiladores é meio estranho. Não é mais simples abrir o seu emulador de terminal favorito e começar a trabalhar, assim como você faria caso estivesse compilando os seus códigos com o GCC? Mas é claro!</p>
<p>Então, para expor as variáveis de ambiente da instalação do Free PGI para a sua conta de usuário, basta copiar as linhas abaixo e colocar no seu .profile ou .bashrc (ou seja lá o que você utiliza para carregar as suas configurações de terminal):</p>
<p>[sourcecode language="bash"]<br />
# PGI Environment Settings<br />
export PGI_PGI_PATH=&amp;quot;/Applications/Free PGI.app/Contents/Resources/pgi&amp;quot;<br />
export PATH=&amp;quot;/Applications/Free PGI.app/Contents/Resources/pgi/osx86-64/14.3/bin:$PATH&amp;quot;<br />
export PGI_OEM_INFO=&amp;quot;64-bit target on Apple OS/X developer $INFOTPVAL&amp;quot;<br />
export PGI_GCCVERSION=&amp;quot;40201&amp;quot;<br />
export PGI_GCCINC=&amp;quot;/Applications/Xcode.app/Contents/Developer/usr/lib/llvm-gcc/4.2.1/include&amp;quot;<br />
export PGI_GCCDIR64=&amp;quot;/Applications/Xcode.app/Contents/Developer/usr/lib/llvm-gcc/4.2.1&amp;quot;<br />
export PGI_MINOSX=&amp;quot;10.9.2&amp;quot;<br />
export PGI_MINOSX=&amp;quot;10.9.2&amp;quot;<br />
export PGI_MINOSXNUM=&amp;quot;109&amp;quot;<br />
export PGI_HASGCC_EH=&amp;quot;0&amp;quot;<br />
export PGI_ISCLANG31=&amp;quot;501&amp;quot;<br />
export PGI_LOCALDEFS=&amp;quot;__PGI_5XC__&amp;quot;<br />
[/sourcecode]</p>
<p>Você deve observar, no entanto, que algumas variáveis exportadas contém informações específicas da versão do OS X e GCC. Se você não estiver utilizando o OS X 10.9.2 junto com as últimas atualizações do Xcode, então você terá que alterar algumas variáveis e substituir os valores pelos correspondentes das suas configurações.</p>
<p>[caption id="attachment_2326" align="aligncenter" width="640"]<a href="https://craftmind.files.wordpress.com/2014/04/screen-shot-2014-04-04-at-9-32-43-pm.png"><img class="size-full wp-image-2326" src="{{ site.baseurl }}/assets/screen-shot-2014-04-04-at-9-32-43-pm.png" alt="Testando a instalação do Free PGI - instalação exposta para o iTerm2.app (e outros emuladores)." width="640" height="350" /></a> Testando a instalação do Free PGI - instalação exposta para o iTerm2.app (e outros emuladores).[/caption]</p>
<p><strong>Conclusões</strong></p>
<p>Acredito que a Portland Group deve ter atendido a uma demanda de muitos usuários (talvez, principalmente estudantes). A empresa deixa bem claro que a única forma de suporte deste produto é a partir do <a href="https://www.pgroup.com/userforum/index.php" target="_blank">fórum</a> e que nenhuma outra forma está disponível, especificamente para este produto. A dica mostrada aqui, expondo as variáveis do sistema que são exportadas por um script "binário" do programa Free PGI.app não fere nenhum contrato de utilização do produto simplesmente porque estas variáveis podem ser recuperadas pelo terminal. Então nenhuma engenharia reversa foi feita, apenas foi entendido a forma como o programa funciona.</p>
<p>É isso!</p>
