---
layout: post
title: Dicas para quem está iniciando em "modelagem"
date: 2012-04-11 13:48:14.000000000 -03:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- Ciência
- Tudo
- Tutoriais
tags:
- fortran
- modelagem
- programação
- repositório
- Shell
- SVN
- testes
meta:
  _edit_last: '13386696'
  _oembed_7fc6da1183ca6b9639ab6044dd7ca527: "{{unknown}}"
  _oembed_f4d7d30588b2a257282aecb74bb52555: "{{unknown}}"
  _oembed_1a0d1c1c165e2404ea843d505007e8f3: "{{unknown}}"
  _oembed_64c21ce15406945da32c26c6eda5965f: "{{unknown}}"
  _oembed_0457b5ff9a5ef0668749463d29f7528f: "{{unknown}}"
  _oembed_c98733fa030745d78f1841fa87d3d6e0: "{{unknown}}"
  _oembed_b82468cc8687915df4b4afe664924995: "{{unknown}}"
  _oembed_1e01d68fdbe2a7d773547f3d91f2bea7: "{{unknown}}"
  _oembed_f1d223c9100b7baf116a98f35c74cc04: "{{unknown}}"
author:
  login: craftmind
  email: cfbastarz@gmail.com
  display_name: cfbastarz
  first_name: ''
  last_name: ''
permalink: "/2012/04/11/dicas-para-quem-esta-iniciando-em-modelagem/"
---
<p>A idéia deste post é mostrar algumas dicas para quem está iniciando a "rodar" modelos, seja realizando testes, seja realizando implementações. Com algum tempo trabalhando com modelagem (no meu caso em meteorologia), você acaba colecionando algumas dicas que podem ser preciosas em diversos aspectos da atividade prática da modelagem. Mas antes de mais nada, vou definir aqui que o termo "modelagem", se refere à atividade prática (à execução da modelagem) de preparar um determinado sistema ou modelo computacional e seu respectivo ambiante de compilação/submissão, e não necessariamente a modelagem em si - que por si só tem seus desafios. Estas mesmas idéias podem ser facilmente aplicadas a situações mais simples, como por exemplo, desenvolver um programa em linguagem C, fortran ou um script shell simples que automatize algumas tarefas. É preciso ter em mente apenas começar da forma correta, o não o isenta de cometer erros (inerentes ao seu trabalho) e aprender com eles.</p>
<p>Pois bem, quem está começando sempre tem um pouco de pressa, ou por não saber que o processo prático da modelagem é não linear, ou porque é muito apressado e sabe que não tem muito tempo para gerar e analisar os seus resultados. Nesse caso, há um caminho bastante longo e complicado entre "gerar" e "analisar" os resultados. Muitas vezes, gerar os resultados pode parecer um alívio, mas se eles não foram gerados da forma correta, podem lhe trazer muita dor de cabeça. Então, para começarmos, vamos colocar os tópicos desta discussão na seguinte ordem:</p>
<ol>
<li>Cheguei agora, o que faço?</li>
<li>Certo, agora que já comecei, o que faço?</li>
<li>Deu pau, o que faço?</li>
<li>Deu pau de novo, o que posso fazer?</li>
<li>Acho que agora está dando certo..., o que faço?</li>
<li>Meu primeiro resultado! E agora, o que faço?</li>
<li>Meu tempo acabou, o que faço?</li>
<li>Outras dúvidas...</li>
</ol>
<p>Certamente, poderiam haver outros "... e agora, o que faço?", mas com certeza estes sete tópicos são bastante representativos do processo prático da modelagem como um todo e certamente podem lhe ajudar. Portanto, entenda este texto como uma espécie de "auto-ajuda" da prática da modelagem (antes que você tenha que recorrer à alguma ajuda externa) ou um "caminho-zen" para as suas atividades em modelagem.</p>
<p><strong>1. Cheguei agora, o que faço?</strong></p>
<p>Com certeza, essa é a sua primeira dúvida quando não se tem experiência prévia na prática do seu trabalho de pesquisa. Geralmente, a iniciação científica nos serve como uma espécie de laboratório com experimentos controlados em que não se assume a responsabilidade por um determinado resultado, ou melhor, aprende-se - num espaço curto de tempo, a colocar a mão na massa. Mas nem sempre, quem faz iniciação científica, acaba trabalhando com os mesmo temas em pesquisas futuras. Nesse momento, as dúvidas e aflições de quem está começando são, frequentemente, as seguintes: "putz, vou ter que mexer no linux...", "putz, vou ter que mexer no terminal do linux...", "putz, vou ter que trabalhar com programação...", "putz, vou ter que trabalhar com o cluster...", "putz, vou ter que trabalhar com o supercomputador..." etc. Na verdade, a grande sacada nesse momento é não se aborrecer e nem se preocupar com o tal do linux e seu terminal, até porque - dependendo da área em que você trabalhe, vai acabar percebendo que ao invés dele ser um vilão, ele será a melhor ferramenta com que você vai trabalhar. Dito isto, comece a se preparar fazendo-se as seguintes perguntas:</p>
<blockquote><p>Se eu vou trabalhar com um modelo computacional ou um programa fortran, ou script do matlab etc, onde ele(s) está(ão)?</p></blockquote>
<p>Essa é a primeira coisa que você tem que se perguntar. Se isso lhe parecer um pouco óbvio demais, saiba que se você não for cuidadoso(a) a partir daqui, os seus problemas podem começar logo de início. Se você for trabalhar no linux (sendo no seu computador/notebook, em um cluster ou em um supercomputador), com certeza terá que lidar com o terminal. Por isso, pesquise com os seus colegas de trabalho onde pode-se obter o modelo ou programa com que você vai trabalhar. Não se preocupe demais com o terminal e os seus comandos, <span style="text-decoration:underline;">com certeza você vai aprender praticando</span>.</p>
<blockquote><p>Sempre, eu eu disse SEMPRE, a melhor situação é quando você pode trabalhar com repositórios (em cvs, svn, git, bazar etc).</p></blockquote>
<p>Os repositórios são importantes porque permitem que você crie um <span style="text-decoration:underline;">histórico de alterações</span> e de versões dos seus scripts e rotinas que for trabalhar/criar/modificar. Além disso, ele vai lhe ajudar naquele momento em que você estiver escrevendo um relatório ou em que precisar lembrar de uma determinada data em que modificações ou implementações foram realizadas. Portanto, nessa primeira situação, pergunte a seus chefes, colegas, orientadores se o código com o qual você for trabalhar está em um repositório e em que tipo de repositório. Pergunte também se você pode <span style="text-decoration:underline;">criar um ramo (repositório) próprio</span> para realizar os seus desenvolvimentos. Com certeza, essa é a melhor maneira de se iniciar o trabalho com códigos computacionais em sistemas e modelos. Para exemplos de utilização do svn, por exemplo (eu aprendi a trabalhar com o svn), leia este post sobre a criação de um repositório svn em sua máquina local (<a href="http://craftmind.wordpress.com/2011/04/25/criando-um-repositorio-svn-local/" target="_blank">http://craftmind.wordpress.com/2011/04/25/criando-um-repositorio-svn-local/</a>) e este sobre como utilizar o svn (<a href="http://samuca.wordpress.com/2007/04/12/tutorial-subversion/" target="_blank">http://samuca.wordpress.com/2007/04/12/tutorial-subversion/</a>).</p>
<p><strong>2. Certo, agora que já comecei, o que faço?</strong></p>
<p>Se você já sabe onde está o código ou modelo com que vai trabalhar, agora é o momento de aprender a instalar/utilizar/testar o seu código. Todo código que tem um desenvolvimento ordenado e, por mais simples que seja, deve ter um <span style="text-decoration:underline;">README</span> ou um LEIAME <span style="text-decoration:underline;">com a descrição do programa</span>, notas de versão, bugs conhecidos e - principalmente, como instalar/utilizar/testar. Este trio (instalar/utilizar/testar) é essencial e deve ser seguido antes que qualquer outro tipo de teste seja feito com o código que você vai trabalhar. Procure saber se há uma conjunto de dados de teste (geralmente um conjunto pequeno de dados que permita testar todos os aspectos do programa).</p>
<blockquote><p>Leia o README, siga as instruções, tire suas dúvidas e quando se sentir confortável o suficiente para começar, inicie o trio instalar/utilizar/testar.</p></blockquote>
<p><strong>3. Deu pau, o que faço?</strong></p>
<p><span style="text-decoration:underline;">Tem certeza de que leu o README por completo?</span> Tem certeza de que não surgiram dúvidas? Se alguém lhe deu uma explicação e você não entendeu muito bem, volte e pergunte novamente. <span style="text-decoration:underline;">Não se acanhe!</span> Quanto menos dúvidas você tiver sobre o processo de instalar/utilizar/testar, melhor. Assim você poderá se preocupar menos com os aspectos práticos do sistema e mais com os aspectos teóricos da sua pesquisa. Caso todas as informações do README e as instruções que lhe foram fornecidas tenham sido completamente atendidas, então o problema pode ser outro. Será necessário ler todos os logs do sistema e procurar por erros desconhecidos ou que, por uma razão ou outra, ainda não foram relatados.</p>
<blockquote><p>Inclusive, esta pode ser uma oportunidade para que você colabore com os desenvolvedores do sistema que você está utilizando.</p></blockquote>
<p><strong>4. Deu pau de novo, o que posso fazer?</strong></p>
<p>Se o problema persiste ou lhe parece ser algo sistemático (que está se repetindo sempre, da mesma forma), pode ser que o problema não seja com o seu sistema, mas sim com a máquina em que está sendo executado.</p>
<blockquote><p>Lembre-se que assim como o seu computador, qualquer sistema - por mais moderno e seguro que seja, ele é suscetivel a problemas de software e hardware diversos. Se você tiver certeza de que os problemas não fazem parte do seu sistema (dos modelos/rotinas/scripts), entre em contato com o administrador da máquina que você está utilizando.</p></blockquote>
<p>Se você está utilizando apenas o seu computador, não perca tempo e peça ajuda a alguém mais experiente. <span style="text-decoration:underline;">Geralmente</span>, problemas de compilação estão relacionados à variáveis de ambiente mal ajustadas e programas que não estão completamente instalados. Se você depende de algum tipo de biblioteca que não é fornecida com o seu sistema, leia este post para uma explanação geral sobre a instalação de programas a partir do código fonte no linux (<a href="http://craftmind.wordpress.com/2011/04/25/variaveis-de-ambiente-para-programas-fonte/" target="_blank">http://craftmind.wordpress.com/2011/04/25/variaveis-de-ambiente-para-programas-fonte/</a>).</p>
<p><strong>5. Acho que agora está dando certo..., o que faço?</strong></p>
<p>Com muita sorte, as coisas dão certo logo de primeira ou pelo menos nas primeiras tentativas. Se não derem certo de primeira e você teve que queimar uma pouco da sua preciosa mufa para resolver, parabéns: com certeza você aprendeu mais coisas do que esperava. Uma vez que as coisas começam a fluir e a funcionar de forma como tem que ser (ou pelo menos da forma como se espera), fique atento com a performance do seu modelo/programa e veja se os resultados preliminares (on the flie) estão <span style="text-decoration:underline;">razoavelmente dentro do que se sabe/conhece</span>. Geralmente os modelos computacionais geram saídas de log e erro a partir das quais pode-se acompanhar os valores calculados de uma determinada variável ou o tempo que está demorando para realizar algum cálculo. Observando estes aspectos, você poderá ser capaz de identificar problemas como: valores espúrios, situações fisicamente impossíveis, instabilidade numérica, problemas de paralelismo etc. <span style="text-decoration:underline;">Este tipo de diagnóstico pode lhe poupar horas, dias ou até semanas de trabalho!</span> Imagine a situação em que um modelo numérico de previsão de tempo é empregrado para integrar uma condição inicial durante sete dias. Atualmente, dependendo de onde o modelo está sendo executado, este trabalho pode demorar de horas a dias e se você não se preocupar em olhar os valores que estão sendo escritos no log do sistema, só vai perceber que alguma coisa está errada no final.</p>
<blockquote><p>Portanto, fique atento aos logs e aprenda a interpretar os valores e resultados preliminares. Ah, não se engane com as médias!!</p></blockquote>
<p><strong>6. Meu primeiro resultado! E agora, o que faço?</strong></p>
<p>Ótimo, se você conseguiu chegar até aqui, já deve ter alguma bagagem com coisas interessantes que aprendeu sobre o processo prático da modelagem. No caso dos resultados de modelo, certamente haverá um arquivo final com os valores/campos e, dependendo do sistema empregado, esse arquivo poderá ser <span style="text-decoration:underline;">convertido</span> para um formato padrão (por exemplo, grib, netcdf, hdf etc) que, além de ocupar menos espaço, já disponibiliza o arquivo final para visualização em um software específico (por exemplo, o GrADS). Geralmente, o conjunto dessas rotinas de conversão é chamada de pós-processamento e geralmente, são feitas interpolações e outros procedimentos matemáticos que podem embutir pequenos <span style="text-decoration:underline;">erros</span> oriundos de aproximações. Fique atento às fontes de erros nos seus resultados e saiba ponderá-las em sua avaliação. Procure também <span style="text-decoration:underline;">comparar</span> os dados brutos (antes do pós-processamento) com os dados finais (pós-processados).</p>
<blockquote><p>Certamente, estas informações podem lhe assegurar um controle e visão melhores sobre os resultados que você obteve.</p></blockquote>
<p>Ao sinal de qualquer dúvida sobre os resultados gerados, se você tiver tempo, refaça os experimentos e tire suas dúvidas. Além disso, <span style="text-decoration:underline;">a avaliação estatística e/ou interpretação física dos resultados deve ser feita de forma bastante consistente</span>. Leve em consideração os tipos de avaliação que outros pesquisadores estão fazendo e tente <span style="text-decoration:underline;">comparar</span> os seus resultados com os deles. Isso ajuda e muito na validação dos seus experimentos e também vai lhe assegurar que a sua metodologia não contém falhas.</p>
<p><strong>7. Meu tempo acabou, o que faço?</strong></p>
<p>Isso vai acontecer e, geralmente no mestrado - em que se tem pouco tempo para executar a parte prática, você pode se <span style="text-decoration:underline;">desesperar</span> com a qualidade dos seus resultados.</p>
<blockquote><p>Se você tomar todos os cuidados e rever sempre os seus passos, dificilmente passará por algum problema por culpa sua.</p></blockquote>
<p>Acredite, erros todos comentem e perder o tempo que se tem para uma determinada tarefa, é o pior deles. Então, tome os devidos cuidados e extraia o máximo que puder do aprendizado da prática de modelagem. Com certeza, numa outra oportunidade, você estará mais <span style="text-decoration:underline;">calejado</span> e <span style="text-decoration:underline;">esperto</span> para enfrentar novos desafios e saberá como começar...</p>
<p><strong> Outras dúvidas...</strong></p>
<p>Na verdade, este tópico não é sobre dúvidas, mas sim recomendações. Sempre que você estiver desenvolvendo algo, <span style="text-decoration:underline;">seja minucioso</span>, documente tudo o que você está fazendo. Se a sua memória é fraca, certamente você estará se livrando de um imprevisto ou de ter que bolar uma solução para um problema que você já resolveu. Para as rotinas e scripts que você escrever, utilize o <a href="http://www.stack.nl/~dimitri/doxygen/" target="_blank">Doxygen</a> ou o <a href="http://gmao.gsfc.nasa.gov/software/protex/" target="_blank">ProTeX</a> para gerar a documentação. É <span style="text-decoration:underline;">justo</span> com você, porque <span style="text-decoration:underline;">agrega valor</span> ao seu trabalho e justo com quem vai colaborar ou dar continuidade aos desenvolvimentos que você iniciou. Lembre-se que linguagem de máquina é para máquina, humanos lêem textos.</p>
<blockquote><p>Se ao escrever a documentação você ficar na dúvida se escreve em português ou em inglês, <span style="text-decoration:underline;">não exite: escreva em português</span>.</p></blockquote>
<p>Sempre tem alguém que diz "tem que escrever em inglês porque se houver alguma colaboração de fora, todos têm que entender". Isso está correto, desde que se saiba escrever corretamente em inglês... não adianta nada escrever em inglês se apenas os nativos procurarem a documentação para ler, e vai ser pior se estiver em inglês mal escrito. Portanto, a menos que alguém se disponha a revisar a documentação, escreva em bom português mesmo. Vale lembrar que a documentação, além de ajudar no entendimento dos seus programas, ajuda também a escrever o trabalho final ou relatório.</p>
<p><span style="text-decoration:underline;">Ao escrevermos, sempre confrontamos e revisamos idéias anteriores e fixamos o que sabemos.</span></p>
<p>Boa sorte!</p>
<p><strong>PS.:</strong> Este texto deverá ser melhorado ao longo do tempo.</p>
