<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Carlos Frederico Bastarz</title>
    <description>Previsão Numérica de Tempo por Conjuntos.
</description>
    <link>http://localhost:4000/cfbastarz/</link>
    <atom:link href="http://localhost:4000/cfbastarz/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Mon, 21 Oct 2019 18:50:48 -0300</pubDate>
    <lastBuildDate>Mon, 21 Oct 2019 18:50:48 -0300</lastBuildDate>
    <generator>Jekyll v3.8.5</generator>
    
      <item>
        <title>Equação De Análise</title>
        <description>&lt;script type=&quot;math/tex; mode=display&quot;&gt;e^{i\pi} + 1 = 0&lt;/script&gt;
</description>
        <pubDate>Mon, 21 Oct 2019 00:00:00 -0300</pubDate>
        <link>http://localhost:4000/cfbastarz/archivers/Equa%C3%A7%C3%A3o-de-an%C3%A1lise</link>
        <guid isPermaLink="true">http://localhost:4000/cfbastarz/archivers/Equa%C3%A7%C3%A3o-de-an%C3%A1lise</guid>
        
        
      </item>
    
      <item>
        <title>Copiando o caminho atual (pwd) no Shell sem utilizar o mouse</title>
        <description>&lt;p&gt;Quem trabalha muito na frente do terminal, acaba desenvolvendo a habilidade de não utilizar o mouse. Boa parte do meu tempo no trabalho, é em frente ao terminal (seja um terminal do Linux ou do OS X) e raramente utilizo o mouse para alguma coisa, a não ser para interagir com a interface gráfica (como arrastar janelas ou coisas do gênero). Mas uma situação que sempre me forçou a usar o mouse na frente do terminal, era simplesmente copiar o endereço do local onde estou e colar dentro do editor vi (ou vim) ou em outro local. Para isso, sempre utilizei o comando “pwd” e usava o mouse para copiar e colar. Percebendo que essa era praticamente a única ação que me fazia tirar as mãos do teclado enquanto trabalhava com o terminal, revolvi procurar uma solução. Eu a encontrei e é bastante simples. Há basicamente dois comandos que podem ser utilizados para esta função. Um deles é o “pbcopy” que pode ser utilizado no OS X e o outro, é o “xclip” que pode ser utilizado no Linux.&lt;/p&gt;
&lt;h1&gt;pbcopy no OS X&lt;/h1&gt;
&lt;p&gt;No terminal do OS X, encontrei o comando “copypath”. Este comando é interno, ie., ele faz parte do conjunto de ferramentas do OS X e portanto, não é necessário instalar ele.&lt;/p&gt;
&lt;h2&gt;Uso&lt;/h2&gt;
&lt;p&gt;Um exemplo do seu uso é o seguinte:&lt;/p&gt;
&lt;p&gt;[code language=&quot;plain&quot;]$ pwd | pbcopy&lt;/p&gt;
&lt;p&gt;[/code]&lt;/p&gt;
&lt;p&gt;Utilizando o atalho do teclado “CMD+v”, posso colar no terminal (ou em qualquer outro local) o caminho indicado pelo comando “pwd”:&lt;/p&gt;
&lt;p&gt;[code language=&quot;plain&quot;]/Users/carlos&lt;/p&gt;
&lt;p&gt;[/code]&lt;/p&gt;
&lt;p&gt;Muito simples e funcional.&lt;/p&gt;
&lt;h1&gt;xclip no Linux&lt;/h1&gt;
&lt;p&gt;Como eu não sabia que o “pbcopy” é um comando interno do OS X, fui tentar no terminal do Linux e não deu certo. Fui procurar e acabei encontrando o comando “xclip”, que tem a mesma função e funciona muito bem. Porém, na máquina em que eu estava trabalhando, este comando não estava instalado, mas nada me impediu de instalar ele localmente.&lt;/p&gt;
&lt;h2&gt;Instalação&lt;/h2&gt;
&lt;p&gt;Para instalar o comando “xclip” em uma máquina a partir do código fonte do programa, basta seguir os passos abaixo:&lt;/p&gt;
&lt;p&gt;[code language=&quot;plain&quot;]$ wget -c https://github.com/astrand/xclip/archive/master.zip&lt;br /&gt;
$ unzip master.zip&lt;br /&gt;
$ cd master/&lt;br /&gt;
$ ./bootstrap&lt;br /&gt;
$ ./configure --prefix=${PWD}&lt;br /&gt;
$ make&lt;br /&gt;
$ make install&lt;br /&gt;
[/code]&lt;/p&gt;
&lt;p&gt;Com esses comandos, você irá instalar o “xclip” no mesmo diretório do código fonte do programa. Serão criados dois novos diretórios, “bin” e “share”. Dentro do primeiro, deverão estar presentes os executáveis do “xclip” e dentro do segundo, os manuais. Para adicionar os novos comandos e manuais ao PATH do Shell, basta configurar o seu arquivo ~/.bashrc (ou ~/.bash_profile ou mesmo ~/.profile), adicionando as seguintes linhas ao final do arquivo:&lt;/p&gt;
&lt;p&gt;[code language=&quot;plain&quot;]export PATH=“/caminho/para/o/diretorio/bin/do/xclip”:${PATH}&lt;br /&gt;
export MANPATH=“/caminho/para/o/diretorio/share/man/do/xclip”:${MANPATH}&lt;br /&gt;
[/code]&lt;/p&gt;
&lt;p&gt;Com isso, basta dar um source no arquivo alterado (eg., “source ~/.bashrc”) ou abrir um nova aba no terminal.&lt;/p&gt;
&lt;h2&gt;Uso&lt;/h2&gt;
&lt;p&gt;O uso do comando “xclip” no Shell do Linux é bastante simples. Por exemplo, copiando o caminho atual e redirecionando a saida para dentro de um arquivo texto (arq.txt):&lt;/p&gt;
&lt;p&gt;[code language=&quot;plain&quot;]$ pwd | xclip&lt;br /&gt;
$ xclip -o &amp;gt; arq.txt&lt;br /&gt;
[/code]&lt;/p&gt;
&lt;p&gt;Para colar o caminho copiado com o xclip dentro do editor vim, basta digitar “SHIFT+p”.&lt;/p&gt;
&lt;p&gt;É isso!&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Referências:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cyberciti.biz/faq/xclip-linux-insert-files-command-output-intoclipboard/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.cyberciti.biz/faq/xclip-linux-insert-files-command-output-intoclipboard/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://langui.sh/2010/11/14/pbpaste-pbcopy-in-mac-os-x-or-terminal-clipboard-fun/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://langui.sh/2010/11/14/pbpaste-pbcopy-in-mac-os-x-or-terminal-clipboard-fun/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Tue, 16 Oct 2018 10:40:59 -0300</pubDate>
        <link>http://localhost:4000/cfbastarz/2018/10/16/copiando-o-caminho-atual-pwd-no-shell-sem-utilizar-o-mouse/</link>
        <guid isPermaLink="true">http://localhost:4000/cfbastarz/2018/10/16/copiando-o-caminho-atual-pwd-no-shell-sem-utilizar-o-mouse/</guid>
        
        <category>.bashrc</category>
        
        <category>.bash_aliases</category>
        
        
        <category>tmp</category>
        
        <category>Linux</category>
        
        <category>Mac</category>
        
        <category>Tudo</category>
        
      </item>
    
      <item>
        <title>Copiando o caminho atual (pwd) no Shell sem utilizar o mouse</title>
        <description>&lt;p&gt;Quem trabalha muito na frente do terminal, acaba desenvolvendo a habilidade de não utilizar o mouse. Boa parte do meu tempo no trabalho, é em frente ao terminal (seja um terminal do Linux ou do OS X) e raramente utilizo o mouse para alguma coisa, a não ser para interagir com a interface gráfica (como arrastar janelas ou coisas do gênero). Mas uma situação que sempre me forçou a usar o mouse na frente do terminal, era simplesmente copiar o endereço do local onde estou e colar dentro do editor vi (ou vim) ou em outro local. Para isso, sempre utilizei o comando “pwd” e usava o mouse para copiar e colar. Percebendo que essa era praticamente a única ação que me fazia tirar as mãos do teclado enquanto trabalhava com o terminal, revolvi procurar uma solução. Eu a encontrei e é bastante simples. Há basicamente dois comandos que podem ser utilizados para esta função. Um deles é o “pbcopy” que pode ser utilizado no OS X e o outro, é o “xclip” que pode ser utilizado no Linux.&lt;/p&gt;
&lt;h1&gt;pbcopy no OS X&lt;/h1&gt;
&lt;p&gt;No terminal do OS X, encontrei o comando “copypath”. Este comando é interno, ie., ele faz parte do conjunto de ferramentas do OS X e portanto, não é necessário instalar ele.&lt;/p&gt;
&lt;h2&gt;Uso&lt;/h2&gt;
&lt;p&gt;Um exemplo do seu uso é o seguinte:&lt;/p&gt;
&lt;p&gt;[code language=&quot;plain&quot;]$ pwd | pbcopy&lt;/p&gt;
&lt;p&gt;[/code]&lt;/p&gt;
&lt;p&gt;Utilizando o atalho do teclado “CMD+v”, posso colar no terminal (ou em qualquer outro local) o caminho indicado pelo comando “pwd”:&lt;/p&gt;
&lt;p&gt;[code language=&quot;plain&quot;]/Users/carlos&lt;/p&gt;
&lt;p&gt;[/code]&lt;/p&gt;
&lt;p&gt;Muito simples e funcional.&lt;/p&gt;
&lt;h1&gt;xclip no Linux&lt;/h1&gt;
&lt;p&gt;Como eu não sabia que o “pbcopy” é um comando interno do OS X, fui tentar no terminal do Linux e não deu certo. Fui procurar e acabei encontrando o comando “xclip”, que tem a mesma função e funciona muito bem. Porém, na máquina em que eu estava trabalhando, este comando não estava instalado, mas nada me impediu de instalar ele localmente.&lt;/p&gt;
&lt;h2&gt;Instalação&lt;/h2&gt;
&lt;p&gt;Para instalar o comando “xclip” em uma máquina a partir do código fonte do programa, basta seguir os passos abaixo:&lt;/p&gt;
&lt;p&gt;[code language=&quot;plain&quot;]$ wget -c https://github.com/astrand/xclip/archive/master.zip&lt;br /&gt;
$ unzip master.zip&lt;br /&gt;
$ cd master/&lt;br /&gt;
$ ./bootstrap&lt;br /&gt;
$ ./configure --prefix=${PWD}&lt;br /&gt;
$ make&lt;br /&gt;
$ make install&lt;br /&gt;
[/code]&lt;/p&gt;
&lt;p&gt;Com esses comandos, você irá instalar o “xclip” no mesmo diretório do código fonte do programa. Serão criados dois novos diretórios, “bin” e “share”. Dentro do primeiro, deverão estar presentes os executáveis do “xclip” e dentro do segundo, os manuais. Para adicionar os novos comandos e manuais ao PATH do Shell, basta configurar o seu arquivo ~/.bashrc (ou ~/.bash_profile ou mesmo ~/.profile), adicionando as seguintes linhas ao final do arquivo:&lt;/p&gt;
&lt;p&gt;[code language=&quot;plain&quot;]export PATH=“/caminho/para/o/diretorio/bin/do/xclip”:${PATH}&lt;br /&gt;
export MANPATH=“/caminho/para/o/diretorio/share/man/do/xclip”:${MANPATH}&lt;br /&gt;
[/code]&lt;/p&gt;
&lt;p&gt;Com isso, basta dar um source no arquivo alterado (eg., “source ~/.bashrc”) ou abrir um nova aba no terminal.&lt;/p&gt;
&lt;h2&gt;Uso&lt;/h2&gt;
&lt;p&gt;O uso do comando “xclip” no Shell do Linux é bastante simples. Por exemplo, copiando o caminho atual e redirecionando a saida para dentro de um arquivo texto (arq.txt):&lt;/p&gt;
&lt;p&gt;[code language=&quot;plain&quot;]$ pwd | xclip&lt;br /&gt;
$ xclip -o &amp;gt; arq.txt&lt;br /&gt;
[/code]&lt;/p&gt;
&lt;p&gt;Para colar o caminho copiado com o xclip dentro do editor vim, basta digitar “SHIFT+p”.&lt;/p&gt;
&lt;p&gt;É isso!&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Referências:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cyberciti.biz/faq/xclip-linux-insert-files-command-output-intoclipboard/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.cyberciti.biz/faq/xclip-linux-insert-files-command-output-intoclipboard/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://langui.sh/2010/11/14/pbpaste-pbcopy-in-mac-os-x-or-terminal-clipboard-fun/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://langui.sh/2010/11/14/pbpaste-pbcopy-in-mac-os-x-or-terminal-clipboard-fun/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Tue, 16 Oct 2018 10:40:59 -0300</pubDate>
        <link>http://localhost:4000/cfbastarz/2018/10/16/copiando-o-caminho-atual-pwd-no-shell-sem-utilizar-o-mouse/</link>
        <guid isPermaLink="true">http://localhost:4000/cfbastarz/2018/10/16/copiando-o-caminho-atual-pwd-no-shell-sem-utilizar-o-mouse/</guid>
        
        <category>.bashrc</category>
        
        <category>.bash_aliases</category>
        
        
        <category>Linux</category>
        
        <category>Mac</category>
        
        <category>Tudo</category>
        
      </item>
    
      <item>
        <title>Memória</title>
        <description>&lt;p&gt;Faz tempo que não escrevo...&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Memória&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Tudo é memória:&lt;br /&gt;
enquanto a música toca,&lt;br /&gt;
enquanto eu ando,&lt;br /&gt;
enquanto você dança,&lt;br /&gt;
enquanto eu descanso.&lt;/p&gt;
&lt;p&gt;Tudo muda de passo:&lt;br /&gt;
fica mais devagar,&lt;br /&gt;
fica mais intenso,&lt;br /&gt;
fica mais concentrado,&lt;br /&gt;
fica menos pretenso.&lt;/p&gt;
&lt;p&gt;Tudo tem memória e tudo tem um tempo:&lt;br /&gt;
Minhas memórias parecem pequenas diante do que sinto,&lt;br /&gt;
parecem pequenos veios de fluxo intenso.&lt;br /&gt;
Pulsam com muita força durante um pequeno momento:&lt;br /&gt;
Construo um caminho para os meus argumentos,&lt;br /&gt;
enquanto contemplo as luzes que passam, e invadem meus pensamentos.&lt;/p&gt;
&lt;p&gt;Tudo está na minha memória:&lt;br /&gt;
enquanto eu danço,&lt;br /&gt;
enquanto lhe observo,&lt;br /&gt;
enquanto eu rezo,&lt;br /&gt;
enquanto lhe tenho.&lt;/p&gt;
</description>
        <pubDate>Mon, 15 Oct 2018 18:25:56 -0300</pubDate>
        <link>http://localhost:4000/cfbastarz/2018/10/15/memoria/</link>
        <guid isPermaLink="true">http://localhost:4000/cfbastarz/2018/10/15/memoria/</guid>
        
        
        <category>tmp</category>
        
        <category>Textos</category>
        
        <category>Tudo</category>
        
      </item>
    
      <item>
        <title>Memória</title>
        <description>&lt;p&gt;Faz tempo que não escrevo...&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Memória&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Tudo é memória:&lt;br /&gt;
enquanto a música toca,&lt;br /&gt;
enquanto eu ando,&lt;br /&gt;
enquanto você dança,&lt;br /&gt;
enquanto eu descanso.&lt;/p&gt;
&lt;p&gt;Tudo muda de passo:&lt;br /&gt;
fica mais devagar,&lt;br /&gt;
fica mais intenso,&lt;br /&gt;
fica mais concentrado,&lt;br /&gt;
fica menos pretenso.&lt;/p&gt;
&lt;p&gt;Tudo tem memória e tudo tem um tempo:&lt;br /&gt;
Minhas memórias parecem pequenas diante do que sinto,&lt;br /&gt;
parecem pequenos veios de fluxo intenso.&lt;br /&gt;
Pulsam com muita força durante um pequeno momento:&lt;br /&gt;
Construo um caminho para os meus argumentos,&lt;br /&gt;
enquanto contemplo as luzes que passam, e invadem meus pensamentos.&lt;/p&gt;
&lt;p&gt;Tudo está na minha memória:&lt;br /&gt;
enquanto eu danço,&lt;br /&gt;
enquanto lhe observo,&lt;br /&gt;
enquanto eu rezo,&lt;br /&gt;
enquanto lhe tenho.&lt;/p&gt;
</description>
        <pubDate>Mon, 15 Oct 2018 18:25:56 -0300</pubDate>
        <link>http://localhost:4000/cfbastarz/2018/10/15/memoria/</link>
        <guid isPermaLink="true">http://localhost:4000/cfbastarz/2018/10/15/memoria/</guid>
        
        
        <category>Textos</category>
        
        <category>Tudo</category>
        
      </item>
    
      <item>
        <title>Calculando diferença entre duas datas no formato YYYYMMDDHH (Shell)</title>
        <description>&lt;p&gt;Neste post vou apresentar um script que escrevi há alguns meses atrás para calcular a diferença entre duas datas quaisquer, no formato YYYYMMDDHH (ou seja, no formato ANO, MÊS, DIA, HORA SINÓTICA).&lt;/p&gt;
&lt;h1&gt;Exemplo&lt;/h1&gt;
&lt;p&gt;Qual a diferença (em dias ou em horas) entre as datas &quot;2013010100&quot; e &quot;2013011512&quot;?&lt;/p&gt;
&lt;p&gt;O script irá calcular a diferença entre estas duas datas e o resultado será dado em dias e em horas:&lt;/p&gt;
&lt;pre&gt;$ ./calc_date_diff.ksh 2013010100 2013011512&lt;/pre&gt;
&lt;p&gt;14 dia(s) e 12 hora(s) ou 348 hora(s)&lt;/p&gt;
&lt;h1&gt;Script&lt;/h1&gt;
&lt;p&gt;O script possui o seguinte algorítmo:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Recebe as duas datas pela linha de comando;&lt;/li&gt;
&lt;li&gt;As datas são fornecidas como argumentos para a função datediff;&lt;/li&gt;
&lt;li&gt;Na função datediff, são separados os anos, os meses, os dias e os horários sinóticos;&lt;/li&gt;
&lt;li&gt;A partir disso, são formatadas as datas data1 e data2 no formato 'YYYY-MM-DD HH:mm:ss UTC';&lt;/li&gt;
&lt;li&gt;Verifica se a data2 é maior ou menor do que data1; se data2 for maior do que data1,&lt;/li&gt;
&lt;li&gt;Verifica se HH da data2 é igual a zero e se não é igual a HH da data1;
&lt;ol&gt;
&lt;li&gt;Se esta verificação for verdadeira, então a diferença entre HH (horas) das datas Informadas será calculada por 24-HH da data1;&lt;/li&gt;
&lt;li&gt;Caso contrário, a diferença entre HH (horas) das datas será calculada pela diferença entre os HH da data2 e data1;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Se HH da data1 for igual a zero e HH da data2 não for igual a HH da data1, então a diferença entre HH das datas é calculada por 24 menos HH da data2;
&lt;ol&gt;
&lt;li&gt;Caso contrário, esta diferença será calculada pela diferença entre HH da data2 e data1.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;[code language=&quot;bash&quot;]&lt;br /&gt;
#! /bin/ksh&lt;/p&gt;
&lt;p&gt;#set -o xtrace&lt;/p&gt;
&lt;p&gt;data_anl=${1}&lt;br /&gt;
data_fct=${2}&lt;/p&gt;
&lt;p&gt;datediff(){&lt;/p&gt;
&lt;p&gt;  yyyy_anl=$(echo ${data_anl} | cut -c 1-4)&lt;br /&gt;
  mm_anl=$(echo ${data_anl} | cut -c 5-6)&lt;br /&gt;
  dd_anl=$(echo ${data_anl} | cut -c 7-8)&lt;br /&gt;
  hh_anl=$(echo ${data_anl} | cut -c 9-10)&lt;/p&gt;
&lt;p&gt;  yyyy_fct=$(echo ${data_fct} | cut -c 1-4)&lt;br /&gt;
  mm_fct=$(echo ${data_fct} | cut -c 5-6)&lt;br /&gt;
  dd_fct=$(echo ${data_fct} | cut -c 7-8)&lt;br /&gt;
  hh_fct=$(echo ${data_fct} | cut -c 9-10)&lt;/p&gt;
&lt;p&gt;  data1=$(date -d &amp;quot;${yyyy_anl}-${mm_anl}-${dd_anl} ${hh_anl}:00:00 UTC&amp;quot; &amp;quot;+%s&amp;quot;)&lt;br /&gt;
  data2=$(date -d &amp;quot;${yyyy_fct}-${mm_fct}-${dd_fct} ${hh_fct}:00:00 UTC&amp;quot; &amp;quot;+%s&amp;quot;)&lt;/p&gt;
&lt;p&gt;  if [ ${data2} -gt ${data1} ]&lt;br /&gt;
  then&lt;br /&gt;
    if [ ${hh_fct} -eq &amp;quot;0&amp;quot; -a ${hh_fct} -ne ${hh_anl} ]&lt;br /&gt;
    then&lt;br /&gt;
      hh_diff=$(( 24-${hh_anl} ))&lt;br /&gt;
    else&lt;br /&gt;
      hh_diff=$(( ${hh_fct}-${hh_anl} ))&lt;br /&gt;
    fi&lt;br /&gt;
  else&lt;br /&gt;
    if [ ${hh_anl} -eq &amp;quot;0&amp;quot; -a ${hh_fct} -ne ${hh_anl} ]&lt;br /&gt;
    then&lt;br /&gt;
      hh_diff=$(( 24-${hh_fct} ))&lt;br /&gt;
    else&lt;br /&gt;
      hh_diff=$(( ${hh_anl}-${hh_fct} ))&lt;br /&gt;
    fi&lt;br /&gt;
  fi&lt;/p&gt;
&lt;p&gt;  dd_diff=$(((${data2}-${data1}) / 86400))&lt;/p&gt;
&lt;p&gt;  hh_tot=$((${dd_diff}*24+${hh_diff}))&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;datediff ${data_anl} ${data_fct}&lt;/p&gt;
&lt;p&gt;echo &amp;quot;${dd_diff} dia(s) e ${hh_diff} hora(s) ou ${hh_tot} hora(s)&amp;quot;&lt;/p&gt;
&lt;p&gt;exit 0&lt;br /&gt;
[/code]&lt;/p&gt;
&lt;p&gt;É isso!&lt;/p&gt;
</description>
        <pubDate>Fri, 23 Feb 2018 10:34:31 -0300</pubDate>
        <link>http://localhost:4000/cfbastarz/2018/02/23/calculando-diferenca-entre-duas-datas-no-formato-yyyymmddhh-shell/</link>
        <guid isPermaLink="true">http://localhost:4000/cfbastarz/2018/02/23/calculando-diferenca-entre-duas-datas-no-formato-yyyymmddhh-shell/</guid>
        
        <category>Datas</category>
        
        <category>ksh</category>
        
        <category>script</category>
        
        <category>Shell</category>
        
        
        <category>tmp</category>
        
        <category>Ciência</category>
        
        <category>Tudo</category>
        
        <category>Tutoriais</category>
        
      </item>
    
      <item>
        <title>Calculando diferença entre duas datas no formato YYYYMMDDHH (Shell)</title>
        <description>&lt;p&gt;Neste post vou apresentar um script que escrevi há alguns meses atrás para calcular a diferença entre duas datas quaisquer, no formato YYYYMMDDHH (ou seja, no formato ANO, MÊS, DIA, HORA SINÓTICA).&lt;/p&gt;
&lt;h1&gt;Exemplo&lt;/h1&gt;
&lt;p&gt;Qual a diferença (em dias ou em horas) entre as datas &quot;2013010100&quot; e &quot;2013011512&quot;?&lt;/p&gt;
&lt;p&gt;O script irá calcular a diferença entre estas duas datas e o resultado será dado em dias e em horas:&lt;/p&gt;
&lt;pre&gt;$ ./calc_date_diff.ksh 2013010100 2013011512&lt;/pre&gt;
&lt;p&gt;14 dia(s) e 12 hora(s) ou 348 hora(s)&lt;/p&gt;
&lt;h1&gt;Script&lt;/h1&gt;
&lt;p&gt;O script possui o seguinte algorítmo:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Recebe as duas datas pela linha de comando;&lt;/li&gt;
&lt;li&gt;As datas são fornecidas como argumentos para a função datediff;&lt;/li&gt;
&lt;li&gt;Na função datediff, são separados os anos, os meses, os dias e os horários sinóticos;&lt;/li&gt;
&lt;li&gt;A partir disso, são formatadas as datas data1 e data2 no formato 'YYYY-MM-DD HH:mm:ss UTC';&lt;/li&gt;
&lt;li&gt;Verifica se a data2 é maior ou menor do que data1; se data2 for maior do que data1,&lt;/li&gt;
&lt;li&gt;Verifica se HH da data2 é igual a zero e se não é igual a HH da data1;
&lt;ol&gt;
&lt;li&gt;Se esta verificação for verdadeira, então a diferença entre HH (horas) das datas Informadas será calculada por 24-HH da data1;&lt;/li&gt;
&lt;li&gt;Caso contrário, a diferença entre HH (horas) das datas será calculada pela diferença entre os HH da data2 e data1;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Se HH da data1 for igual a zero e HH da data2 não for igual a HH da data1, então a diferença entre HH das datas é calculada por 24 menos HH da data2;
&lt;ol&gt;
&lt;li&gt;Caso contrário, esta diferença será calculada pela diferença entre HH da data2 e data1.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;[code language=&quot;bash&quot;]&lt;br /&gt;
#! /bin/ksh&lt;/p&gt;
&lt;p&gt;#set -o xtrace&lt;/p&gt;
&lt;p&gt;data_anl=${1}&lt;br /&gt;
data_fct=${2}&lt;/p&gt;
&lt;p&gt;datediff(){&lt;/p&gt;
&lt;p&gt;  yyyy_anl=$(echo ${data_anl} | cut -c 1-4)&lt;br /&gt;
  mm_anl=$(echo ${data_anl} | cut -c 5-6)&lt;br /&gt;
  dd_anl=$(echo ${data_anl} | cut -c 7-8)&lt;br /&gt;
  hh_anl=$(echo ${data_anl} | cut -c 9-10)&lt;/p&gt;
&lt;p&gt;  yyyy_fct=$(echo ${data_fct} | cut -c 1-4)&lt;br /&gt;
  mm_fct=$(echo ${data_fct} | cut -c 5-6)&lt;br /&gt;
  dd_fct=$(echo ${data_fct} | cut -c 7-8)&lt;br /&gt;
  hh_fct=$(echo ${data_fct} | cut -c 9-10)&lt;/p&gt;
&lt;p&gt;  data1=$(date -d &amp;quot;${yyyy_anl}-${mm_anl}-${dd_anl} ${hh_anl}:00:00 UTC&amp;quot; &amp;quot;+%s&amp;quot;)&lt;br /&gt;
  data2=$(date -d &amp;quot;${yyyy_fct}-${mm_fct}-${dd_fct} ${hh_fct}:00:00 UTC&amp;quot; &amp;quot;+%s&amp;quot;)&lt;/p&gt;
&lt;p&gt;  if [ ${data2} -gt ${data1} ]&lt;br /&gt;
  then&lt;br /&gt;
    if [ ${hh_fct} -eq &amp;quot;0&amp;quot; -a ${hh_fct} -ne ${hh_anl} ]&lt;br /&gt;
    then&lt;br /&gt;
      hh_diff=$(( 24-${hh_anl} ))&lt;br /&gt;
    else&lt;br /&gt;
      hh_diff=$(( ${hh_fct}-${hh_anl} ))&lt;br /&gt;
    fi&lt;br /&gt;
  else&lt;br /&gt;
    if [ ${hh_anl} -eq &amp;quot;0&amp;quot; -a ${hh_fct} -ne ${hh_anl} ]&lt;br /&gt;
    then&lt;br /&gt;
      hh_diff=$(( 24-${hh_fct} ))&lt;br /&gt;
    else&lt;br /&gt;
      hh_diff=$(( ${hh_anl}-${hh_fct} ))&lt;br /&gt;
    fi&lt;br /&gt;
  fi&lt;/p&gt;
&lt;p&gt;  dd_diff=$(((${data2}-${data1}) / 86400))&lt;/p&gt;
&lt;p&gt;  hh_tot=$((${dd_diff}*24+${hh_diff}))&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;datediff ${data_anl} ${data_fct}&lt;/p&gt;
&lt;p&gt;echo &amp;quot;${dd_diff} dia(s) e ${hh_diff} hora(s) ou ${hh_tot} hora(s)&amp;quot;&lt;/p&gt;
&lt;p&gt;exit 0&lt;br /&gt;
[/code]&lt;/p&gt;
&lt;p&gt;É isso!&lt;/p&gt;
</description>
        <pubDate>Fri, 23 Feb 2018 10:34:31 -0300</pubDate>
        <link>http://localhost:4000/cfbastarz/2018/02/23/calculando-diferenca-entre-duas-datas-no-formato-yyyymmddhh-shell/</link>
        <guid isPermaLink="true">http://localhost:4000/cfbastarz/2018/02/23/calculando-diferenca-entre-duas-datas-no-formato-yyyymmddhh-shell/</guid>
        
        <category>Datas</category>
        
        <category>ksh</category>
        
        <category>script</category>
        
        <category>Shell</category>
        
        
        <category>Ciência</category>
        
        <category>Tudo</category>
        
        <category>Tutoriais</category>
        
      </item>
    
      <item>
        <title>Problema com a libosmesa6 no Linux Mint 18.3 &quot;Sylvia&quot;</title>
        <description>&lt;p&gt;Recentemente, formatei minha máquina de trabalho e aproveitei para fazer duas coisas: 1) fazer um RAID 0 entre dois HDs de 1TB disponíveis e 2) instalar o Linux Mint 18.3 &quot;Sylvia&quot;.&lt;/p&gt;
&lt;p&gt;O RAID 0 foi uma solução melhor para o aproveitamento dos HDs da máquina e o Linux Mint, para sanar algumas coisas que já estavam me incomodando no Ubuntu. Obviamente, estas mesmas coisas continuam a me incomodar no Linux Mint, visto que ele é uma distribuição baseada no Ubuntu. Entre estas coisas, estão alguns problemas de instabilidade com o &lt;a href=&quot;https://gnometerminator.blogspot.com.br/p/introduction.html&quot;&gt;Terminator&lt;/a&gt; (emulador de terminal) que de vez em quanto fecha (com todas as minhas abas e seções). Mas uma coisa que estou gostando bastante no Linux Mint, é a forma com a qual trata as atualizações do sistema. O sistema de notificações é funcional e descomplicado.&lt;/p&gt;
&lt;p&gt;Mas eis que precisei instalar o &lt;a href=&quot;https://www.gnu.org/software/octave/&quot;&gt;Octave&lt;/a&gt; e tive um problema com a &quot;&lt;a href=&quot;https://packages.ubuntu.com/trusty/libs/libosmesa6&quot;&gt;libosmesa6&lt;/a&gt;&quot;:&lt;/p&gt;
&lt;p&gt;[caption id=&quot;attachment_2816&quot; align=&quot;aligncenter&quot; width=&quot;584&quot;]&lt;img class=&quot;size-full wp-image-2816&quot; src=&quot;/cfbastarz/assets/libmesa_octave.png&quot; alt=&quot;&quot; width=&quot;584&quot; height=&quot;195&quot; /&gt; Problema com a instalação do Octave no Linux Mint 18.3 &quot;Sylvia&quot;[/caption]&lt;/p&gt;
&lt;p&gt;Uma pequena busca no Google me levou a esta página do &lt;a href=&quot;https://askubuntu.com/questions/943647/intel-graphic-installer-2-0-2-fails-on-fresh-ubuntu-16-04&quot;&gt;askubuntu&lt;/a&gt; com uma solução para um outro problema, e que resolveu o meu também. Neste caso, o repositório estava acusando uma versão diferente da &quot;libosmesa6&quot; enquanto a instalação do Octave requeria uma outra versão. Pelo &lt;a href=&quot;https://bugs.launchpad.net/ubuntu/+source/mesa/+bug/1709823&quot;&gt;visto&lt;/a&gt;, isto é um bug e aparentemente já deveria ter sido disponibilizada para as distribuições baseadas no Ubuntu. A solução foi instalar o pacote do &quot;mesa-utils&quot; com a versão requerida, disponibilizada através de um repositório &quot;ppa&quot;.&lt;/p&gt;
&lt;pre&gt;sudo add-apt-repository ppa:paulo-miguel-dias/pkppa
sudo apt update
sudo apt upgrade&lt;/pre&gt;
&lt;p&gt;E depois disso, a instalação do Octave correu bem com um simples&lt;/p&gt;
&lt;pre&gt;sudo apt install octave&lt;/pre&gt;
&lt;p&gt;É isso!&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Referências:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://askubuntu.com/questions/943647/intel-graphic-installer-2-0-2-fails-on-fresh-ubuntu-16-04&quot;&gt;https://askubuntu.com/questions/943647/intel-graphic-installer-2-0-2-fails-on-fresh-ubuntu-16-04&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://bugs.launchpad.net/ubuntu/+source/mesa/+bug/1709823&quot;&gt;https://bugs.launchpad.net/ubuntu/+source/mesa/+bug/1709823&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Mon, 19 Feb 2018 16:33:42 -0300</pubDate>
        <link>http://localhost:4000/cfbastarz/2018/02/19/problema-com-a-libosmesa6-no-linux-mint-18-3-sylvia/</link>
        <guid isPermaLink="true">http://localhost:4000/cfbastarz/2018/02/19/problema-com-a-libosmesa6-no-linux-mint-18-3-sylvia/</guid>
        
        <category>libosmesa6</category>
        
        <category>Linux Mint</category>
        
        <category>Octave</category>
        
        
        <category>tmp</category>
        
        <category>Linux</category>
        
        <category>Tudo</category>
        
      </item>
    
      <item>
        <title>Problema com a libosmesa6 no Linux Mint 18.3 &quot;Sylvia&quot;</title>
        <description>&lt;p&gt;Recentemente, formatei minha máquina de trabalho e aproveitei para fazer duas coisas: 1) fazer um RAID 0 entre dois HDs de 1TB disponíveis e 2) instalar o Linux Mint 18.3 &quot;Sylvia&quot;.&lt;/p&gt;
&lt;p&gt;O RAID 0 foi uma solução melhor para o aproveitamento dos HDs da máquina e o Linux Mint, para sanar algumas coisas que já estavam me incomodando no Ubuntu. Obviamente, estas mesmas coisas continuam a me incomodar no Linux Mint, visto que ele é uma distribuição baseada no Ubuntu. Entre estas coisas, estão alguns problemas de instabilidade com o &lt;a href=&quot;https://gnometerminator.blogspot.com.br/p/introduction.html&quot;&gt;Terminator&lt;/a&gt; (emulador de terminal) que de vez em quanto fecha (com todas as minhas abas e seções). Mas uma coisa que estou gostando bastante no Linux Mint, é a forma com a qual trata as atualizações do sistema. O sistema de notificações é funcional e descomplicado.&lt;/p&gt;
&lt;p&gt;Mas eis que precisei instalar o &lt;a href=&quot;https://www.gnu.org/software/octave/&quot;&gt;Octave&lt;/a&gt; e tive um problema com a &quot;&lt;a href=&quot;https://packages.ubuntu.com/trusty/libs/libosmesa6&quot;&gt;libosmesa6&lt;/a&gt;&quot;:&lt;/p&gt;
&lt;p&gt;[caption id=&quot;attachment_2816&quot; align=&quot;aligncenter&quot; width=&quot;584&quot;]&lt;img class=&quot;size-full wp-image-2816&quot; src=&quot;/cfbastarz/assets/libmesa_octave.png&quot; alt=&quot;&quot; width=&quot;584&quot; height=&quot;195&quot; /&gt; Problema com a instalação do Octave no Linux Mint 18.3 &quot;Sylvia&quot;[/caption]&lt;/p&gt;
&lt;p&gt;Uma pequena busca no Google me levou a esta página do &lt;a href=&quot;https://askubuntu.com/questions/943647/intel-graphic-installer-2-0-2-fails-on-fresh-ubuntu-16-04&quot;&gt;askubuntu&lt;/a&gt; com uma solução para um outro problema, e que resolveu o meu também. Neste caso, o repositório estava acusando uma versão diferente da &quot;libosmesa6&quot; enquanto a instalação do Octave requeria uma outra versão. Pelo &lt;a href=&quot;https://bugs.launchpad.net/ubuntu/+source/mesa/+bug/1709823&quot;&gt;visto&lt;/a&gt;, isto é um bug e aparentemente já deveria ter sido disponibilizada para as distribuições baseadas no Ubuntu. A solução foi instalar o pacote do &quot;mesa-utils&quot; com a versão requerida, disponibilizada através de um repositório &quot;ppa&quot;.&lt;/p&gt;
&lt;pre&gt;sudo add-apt-repository ppa:paulo-miguel-dias/pkppa
sudo apt update
sudo apt upgrade&lt;/pre&gt;
&lt;p&gt;E depois disso, a instalação do Octave correu bem com um simples&lt;/p&gt;
&lt;pre&gt;sudo apt install octave&lt;/pre&gt;
&lt;p&gt;É isso!&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Referências:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://askubuntu.com/questions/943647/intel-graphic-installer-2-0-2-fails-on-fresh-ubuntu-16-04&quot;&gt;https://askubuntu.com/questions/943647/intel-graphic-installer-2-0-2-fails-on-fresh-ubuntu-16-04&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://bugs.launchpad.net/ubuntu/+source/mesa/+bug/1709823&quot;&gt;https://bugs.launchpad.net/ubuntu/+source/mesa/+bug/1709823&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Mon, 19 Feb 2018 16:33:42 -0300</pubDate>
        <link>http://localhost:4000/cfbastarz/2018/02/19/problema-com-a-libosmesa6-no-linux-mint-18-3-sylvia/</link>
        <guid isPermaLink="true">http://localhost:4000/cfbastarz/2018/02/19/problema-com-a-libosmesa6-no-linux-mint-18-3-sylvia/</guid>
        
        <category>libosmesa6</category>
        
        <category>Linux Mint</category>
        
        <category>Octave</category>
        
        
        <category>Linux</category>
        
        <category>Tudo</category>
        
      </item>
    
      <item>
        <title>Expandir uma sequência numérica incluindo caracteres (Shell)</title>
        <description>&lt;p&gt;Escrever sequências numéricas no Shell é fácil. Você pode utilizar o comando &quot;seq&quot; para escrever sequências numéricas, inclusive formatando a quantidade de dígitos. Por exemplo:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1) Sequência de 1 a 5, com passo igual a 1:&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;$ seq 1 5
 1
 2
 3
 4
 5&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;2) Sequência de 1 a 5, com passo igual a 2:&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;$ seq 1 2 5
 1
 3
 5&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;3) Sequência de 1 a 5, com passo igual a 1, com dois dígitos:&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;$ seq -f %02g 1 5
 01
 02
 03
 04
 05&lt;/pre&gt;
&lt;p&gt;E assim por diante. Neste último exemplo, se quiséssemos escrever o resultado da sequência com três dígitos, bastaria fazer &quot;seq -f %03g 1 5&quot;, ou seja, basta alterar o modificador.&lt;/p&gt;
&lt;p&gt;Mas, e se quiséssemos escrever uma sequência formatada com caracteres, como em &quot;01N 02N 03N&quot;? Neste caso, é mais fácil utilizar o comando de expansão &quot;{..}&quot;. Por exemplo:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4) Sequência de 1 a 5, com passo igual a 1:&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;$ echo {1..5}
1 2 3 4 5&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;5) Sequência de 1 a 5, com passo igual a 2:&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;$ echo {1..5..2}
1 3 5&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;6) Sequência de 1 a 5, compasso igual a 1, com dois dígitos:&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;$ echo 0{1..5}
01 02 03 04 05&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;7) Sequência de 1 a 5, com passo igual a 2, com três dígitos sendo o último, um carácter:&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;$ echo 0{1..5..2}A
01A 03A 05A&lt;/pre&gt;
&lt;p&gt;Muito fácil, não é? Este tipo de estrutura de expansão faz parte do Bash e ele pode ser utilizado apenas com caracteres também. Em inglês, o termo é &quot;Bash Brace Expansion&quot;. Experimente também o comando: &quot;echo {a..z}&quot;.&lt;/p&gt;
&lt;p&gt;É isso!&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Referências (e muito mais exemplos):&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.linuxjournal.com/content/bash-brace-expansion&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://www.linuxjournal.com/content/bash-brace-expansion&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://wiki.bash-hackers.org/syntax/expansion/brace#increment&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://wiki.bash-hackers.org/syntax/expansion/brace#increment&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Wed, 14 Feb 2018 10:27:43 -0200</pubDate>
        <link>http://localhost:4000/cfbastarz/2018/02/14/expandir-uma-sequencia-numerica-incluindo-caracteres-shell/</link>
        <guid isPermaLink="true">http://localhost:4000/cfbastarz/2018/02/14/expandir-uma-sequencia-numerica-incluindo-caracteres-shell/</guid>
        
        <category>BASH</category>
        
        <category>Brace Expansion</category>
        
        <category>Shell</category>
        
        
        <category>tmp</category>
        
        <category>Tudo</category>
        
      </item>
    
  </channel>
</rss>
