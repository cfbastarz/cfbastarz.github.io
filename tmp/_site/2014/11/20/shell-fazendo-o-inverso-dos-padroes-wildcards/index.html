<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Shell: fazendo o inverso dos padrões (wildcards) « Carlos Frederico Bastarz</title>
  <meta name="description" content="Essa dica é simples, mas é aquela que você sempre quis saber. Se você sempre soube dela, parabéns, você aprendeu o Shell direito. Ou não :)Suponha que você q...">

  <link rel="stylesheet" href="/cfbastarz/css/main.css">
  <link rel="canonical" href="http://localhost:4000/cfbastarz/2014/11/20/shell-fazendo-o-inverso-dos-padroes-wildcards/">
  <link rel="alternate" type="application/rss+xml" title="Carlos Frederico Bastarz" href="http://localhost:4000/cfbastarz/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/cfbastarz/">Carlos Frederico Bastarz</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/cfbastarz/about/">Sobre</a>
      
        
        <a class="page-link" href="/cfbastarz/category/">Categorias</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">Shell: fazendo o inverso dos padrões (wildcards)</h1>
    <p class="post-meta">Nov 20, 2014 • {"login"=>"craftmind", "email"=>"cfbastarz@gmail.com", "display_name"=>"cfbastarz", "first_name"=>"", "last_name"=>""} • {"_edit_last"=>"13386696", "_thumbnail_id"=>"2405", "geo_public"=>"0", "_wpas_skip_facebook"=>"1", "_wpas_skip_google_plus"=>"1", "_wpas_skip_twitter"=>"1", "_wpas_skip_linkedin"=>"1", "_wpas_skip_tumblr"=>"1", "_wpas_skip_path"=>"1", "_publicize_job_id"=>"19172258844", "_oembed_dbaaa115d2185dc71f1487641a9b22be"=>"{{unknown}}"}</p>
  </header>

  <article class="post-content">
    <p>Essa dica é simples, mas é aquela que você sempre quis saber. Se você sempre soube dela, parabéns, você aprendeu o Shell direito. Ou não :)</p>
<p>Suponha que você queira listar (ou copiar, mover, apagar etc) todos os arquivos de uma pasta, cujos nomes NÃO contenham um determinado padrão.</p>
<p><!--more--></p>
<p>Fazer isto considerando o padrão, é trivial. Por exemplo:</p>
<pre>$ ls *2014*</pre>
<p>O comando acima, lista todos os arquivos que possuam o padrão “2014” no nome. Pela lógica, para fazer o inverso - ou melhor, o contrário disso, poderíamos utilizar um comando como o seguinte, de forma a recuperar todos os arquivos que NÃO contenham o padrão “2014” no nome:</p>
<pre>$ ls !(*2014*)</pre>
<p>E o resultado desse comando, deveria ser uma lista com todos os arquivos que não contenham o padrão “2014” no nome. Mas isso, a princípio, não funciona no Shell padrão. Eu disse a princípio, porque na verdade, ele funciona!</p>
<p>Para que esta função do Shell seja habilitada, você deve executar o seguinte comando para poder usar o operador lógico “!” (negação) e então inverter a lógica dos wildcards:</p>
<pre>$ shopt -s extglob</pre>
<p>Com isso, o comando "ls !(*2014*)” deve funcionar e você será capaz de listar todos os arquivos que não contenham o padrão "2014" no nome!</p>
<p>O comando "shopt" permite que algumas extensões do Shell sejam habilitadas e, neste caso em específico, o modificador "-s" indica a habilitação da função "extglob" estendendo as o funções de busca através de padrões (wildcards). Mas conhecer as outras opções do comando "shopt", basta digitar "man shopt" ou simplesmente "shopt" para saber quais opções estão habilitadas no seu Shell.</p>
<p><strong>Referência:</strong></p>
<ul>
<li><a href="http://stackoverflow.com/questions/216995/how-can-i-use-inverse-or-negative-wildcards-when-pattern-matching-in-a-unix-linu" target="_blank">http://stackoverflow.com/questions/216995/how-can-i-use-inverse-or-negative-wildcards-when-pattern-matching-in-a-unix-linu</a></li>
</ul>

  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://s.gravatar.com/avatar/1573e6ecaedd8b5a641dce5d582efd56?s=80" alt="Carlos Frederico Bastarz">
  <div class="col-box-title name">Carlos Frederico Bastarz</div>
  <p>Tecnologista CPTEC/INPE.</p>
  <p class="contact">
    
    
    
    <a href="mailto:cfbastarz@gmail.com">Email</a>
    
    <a href="https://github.com/cfbastarz">GitHub</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">Newest Posts</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/cfbastarz/archivers/Equa%C3%A7%C3%A3o-de-an%C3%A1lise">Equação De Análise</a></li>
    
      <li><a class="post-link" href="/cfbastarz/2018/10/16/copiando-o-caminho-atual-pwd-no-shell-sem-utilizar-o-mouse/">Copiando o caminho atual (pwd) no Shell sem utilizar o mouse</a></li>
    
      <li><a class="post-link" href="/cfbastarz/2018/10/16/copiando-o-caminho-atual-pwd-no-shell-sem-utilizar-o-mouse/">Copiando o caminho atual (pwd) no Shell sem utilizar o mouse</a></li>
    
      <li><a class="post-link" href="/cfbastarz/2018/10/15/memoria/">Memória</a></li>
    
      <li><a class="post-link" href="/cfbastarz/2018/10/15/memoria/">Memória</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">TOC</div>
</div>

        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 Carlos Frederico Bastarz
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/cfbastarz/js/easybook.js"></script>


  </body>

</html>
